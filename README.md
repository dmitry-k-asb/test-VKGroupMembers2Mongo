# test-VKGroupMembers2Mongo
<!DOCTYPE html>
<html>
  <body>
    <b> Тестовый проект: </b><br>
    Сбор всех пользователей VK сообщества (+добавление поля 'Возраст') в коллекцию MongoDB<br><br>
    <b> Используется: </b><br>
    <ol>
      <li>PHP</li>
      <li>VK API - функции groups.getMembers и execute</li>
      <li>MongoDB</li>
      <li>Composer</li>
    </ol>
    <b> Инструкция: </b><br>
    <ol>
      <li>Установить PHP, MongoDb (+расширение-драйвер), Composer</li>
      <li>Установить пакет классов для работы с MongoDB с помощью Composer</li>
      <li>Подключить класс VKAllMembersQuery</li>
      <li>Используем метод query(1 аргумент - токен доступа к VK API, 2 аргумент - идентификатор группы) для запроса данных</li>
      <li>Методы getCollectedItems() и getCount() вернут массив собранных пользователей и количество соответственно</li>
      <li>Подключить класс SaveToMongo</li>
      <li>В конструктор объекта передаем строку подключения к MongoDB серверу</li>
      <li>Использум метод selectCollection(1 аргумент - имя базы на сервере MongoDB, 2 аргумент - имя коллекции на сервере MongoDB)</li>
      <li>Метод saveData(аргумент - переменная с данными для сохранения) сохранит в указанную коллекцию</li>
    </ol>	
    <b> Примечание 1: </b> при ошибках выход с сообщением, т.к. дальнейшее выполнение лишено смысла<br>
    <b> Примечание 2: </b> для пробы введите исходные данные в скрипт main.php и запустите.
  </body>
</html>
